<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8">
	<title>Quiz</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="css/style.css">
</head>
<body class="quiz-container">
	<div class="quiz">
		<div class="quiz__header">
			<h1 class="quiz__title">title</h1>
			<p class="quiz__description">description</p>
		</div>
		<div class="quiz__body">
			<div class="quiz__order">
				<label class="quiz__order-item">
					<input type="checkbox" name="order-group" value="1" class="quiz__hidden-input">
					<span class="quiz__order-item-number-part">
						<span class="quiz__order-item-number">?</span>
					</span>
					<span class="quiz__order-item-text-part">Вариант ответа 1</span>
				</label>
				<label class="quiz__order-item">
					<input type="checkbox" name="order-group" value="2" class="quiz__hidden-input">
					<span class="quiz__order-item-number-part">
						<span class="quiz__order-item-number">?</span>
					</span>
					<span class="quiz__order-item-text-part">Вариант ответа 2</span>
				</label>
				<label class="quiz__order-item">
					<input type="checkbox" name="order-group" value="3" class="quiz__hidden-input">
					<span class="quiz__order-item-number-part">
						<span class="quiz__order-item-number">?</span>
					</span>
					<span class="quiz__order-item-text-part">Вариант ответа 3</span>
				</label>
				<label class="quiz__order-item quiz__order-item_checked">
					<input type="checkbox" name="order-group" value="4" class="quiz__hidden-input" checked>
					<span class="quiz__order-item-number-part">
						<span class="quiz__order-item-number">1</span>
					</span>
					<span class="quiz__order-item-text-part">Вариант ответа 4</span>
				</label>
				<label class="quiz__order-item">
					<input type="checkbox" name="order-group" value="5" class="quiz__hidden-input">
					<span class="quiz__order-item-number-part">
						<span class="quiz__order-item-number">?</span>
					</span>
					<span class="quiz__order-item-text-part">Вариант ответа 5</span>
				</label>
			</div>
		</div>
		<div class="quiz__footer">
			<div class="quiz__process">
				<div class="quiz__process-label">
					Готово:<span>20%</span>
				</div>
				<div class="quiz__process-field">
					<span style="width: 20%;"></span>
				</div>
			</div>
			<div class="quiz__buttons">
			</div>
		</div>
	</div>
	<script src="js/jquery.min.js"></script>
	<script>
		$(document).ready(function(){
			initOrder();

			function initOrder() {
				var orderItems = $('.quiz__order-item'),
					currentNumber = 1;
				orderItems.each(function(i,el){
					if ($(el).find('.quiz__hidden-input').prop('checked')) {
						currentNumber++;
					}
				});
				orderItems.each(function(i,el){
					var input = $(el).find('.quiz__hidden-input'),
						number = $(el).find('.quiz__order-item-number');
					if (input.prop('checked')) {
						$(el).addClass('quiz__order-item_checked');
					}
					input.off('change.my').on('change.my', function(){
						if (input.prop('checked')) {
							$(el).addClass('quiz__order-item_checked');
							number.text(currentNumber);
							currentNumber++;
						} else {
							$(el).removeClass('quiz__order-item_checked');
							var clickedNumber = Number(number.text()); 
							number.text('?');
							orderItems.each(function(iter,elem){
								var currentItemInput = $(elem).find('.quiz__hidden-input');
								if (currentItemInput.prop('checked')) {
									var currentItemNumber = $(elem).find('.quiz__order-item-number'),
										currentItemNumberValue = Number(currentItemNumber.text());
									if (currentItemNumberValue > clickedNumber) {
										currentItemNumber.text(currentItemNumberValue-1);
									}
								}
							});
							currentNumber--;
						}
					});
				});
			}
		});
	</script>
</body>
</html>